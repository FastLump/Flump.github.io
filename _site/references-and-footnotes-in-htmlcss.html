<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href='http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>

  <title>Brian Buccola &middot; References and footnotes in HTML/CSS</title>
  <meta name="description" content="Update: Since I wrote this post, I discovered that markdown conversionprograms like Pandoc and kramdown can convert extensions of markdown thatinclude footno...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://brianbuccola.com/references-and-footnotes-in-htmlcss">
  <link rel="alternate" type="application/rss+xml" title="Brian Buccola" href="http://brianbuccola.com/feed.xml">

  <!-- mathjax config similar to math.stackexchange -->
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <!-- <a class="site-title" href="/">Brian Buccola</a> -->

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/">Home</a>
        <a class="page-link" href="/about">About</a>
        <a class="page-link" href="/news">News</a>
        <a class="page-link" href="/work">Work</a>
        <a class="page-link" href="/files/buccola-cv.pdf">CV</a>
        <a class="page-link" href="/contact">Contact</a>
        <a class="page-link" href="/blog">Blog</a>
        <a class="page-link" href="/feed.xml"><span class="icon icon--feed"><?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> 
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="128px" height="128px" id="RSSicon" viewBox="0 0 256 256">
<defs>
<linearGradient x1="0.085" y1="0.085" x2="0.915" y2="0.915" id="RSSg">
<stop  offset="0.0" stop-color="#E3702D"/><stop  offset="0.1071" stop-color="#EA7D31"/>
<stop  offset="0.3503" stop-color="#F69537"/><stop  offset="0.5" stop-color="#FB9E3A"/>
<stop  offset="0.7016" stop-color="#EA7C31"/><stop  offset="0.8866" stop-color="#DE642B"/>
<stop  offset="1.0" stop-color="#D95B29"/>
</linearGradient>
</defs>
<rect width="256" height="256" rx="55" ry="55" x="0"  y="0"  fill="#CC5D15"/>
<rect width="246" height="246" rx="50" ry="50" x="5"  y="5"  fill="#F49C52"/>
<rect width="236" height="236" rx="47" ry="47" x="10" y="10" fill="url(#RSSg)"/>
<circle cx="68" cy="189" r="24" fill="#FFF"/>
<path d="M160 213h-34a82 82 0 0 0 -82 -82v-34a116 116 0 0 1 116 116z" fill="#FFF"/>
<path d="M184 213A140 140 0 0 0 44 73 V 38a175 175 0 0 1 175 175z" fill="#FFF"/>
</svg>
</span></a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">References and footnotes in HTML/CSS</h1>
    <p class="post-meta"><time datetime="2012-12-01T15:08:00+02:00" itemprop="datePublished">Dec 1, 2012</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><em>Update: Since I wrote this post, I discovered that markdown conversion
programs like Pandoc and kramdown can convert extensions of markdown that
include footnotes. For example, it suffices to do:</em></p>

<div class="highlighter-rouge"><pre class="highlight"><code>Blah blah blah.[^fn] Lorem ipsum...

[^fn]: Here's a footnote!
</code></pre>
</div>

<p><em>But I will leave this post here since it may be a useful reference for people
writing in pure html rather than markdown.</em></p>

<p>I’ve been toying with how best to incorporate inline references and
end–of–post footnotes into my blog posts, and here’s what I’ve come up with.
I’ll start with my first, very simplistic attempt, then explain my slightly
more complicated but also more flexible (I think) solution.</p>

<p>This blog is (<em>Update: was</em>) powered by <a href="http://octopress.org/">Octopress</a>, which allows me to
write blog posts in <a href="http://daringfireball.net/projects/markdown/">markdown</a> syntax, which is then parsed and converted
into HTML by <a href="http://kramdown.rubyforge.org/">kramdown</a>.<a class="ref" id="ref:kd" href="#fn:kd">[1]</a>
Markdown has a nice, easy, and highly legible way of creating simple links.
Just type one of these.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Click [here](url) to see something awesome!

Click [here][blah] to see something awesome!
[blah]: url
</code></pre>
</div>

<p>Both are expanded into the following.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Click <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"url"</span><span class="nt">&gt;</span>here<span class="nt">&lt;/a&gt;</span> to see something awesome!
</code></pre>
</div>

<p>Now, whether you write in markdown or in HTML, footnotes would seem really easy
to do, and in some sense, they are. Simply create a footnote at the bottom of
the page that has some sort of element with an <code class="highlighter-rouge">id</code>, preferably mnemonic, e.g.,
<code class="highlighter-rouge">&lt;a id="fn"&gt;...</code>, and then refer to that <code class="highlighter-rouge">id</code> in your text in the normal way,
by adding a #: either as <code class="highlighter-rouge">&lt;a href="#fn"&gt;1&lt;/a&gt;</code> in HTML, or as <code class="highlighter-rouge">[1](#fn)</code> in
markdown.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Blah blah blah blah.[1](#fn) More blah...

---
1.  <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"fn"</span><span class="nt">&gt;&lt;/a&gt;</span> Even more blah...
</code></pre>
</div>

<p>But there are some problems with this method. First, it’s ugly.<a href="#fn:ugly">2</a>
See how ugly that big underlined number looks? Second, and more importantly, as
I’ve written it, there’s no link from the footnote back up to the reference, so
once you’re done reading the footnote, you have to go find where you were
before. Uncool. There’s nothing worse than a footnote with no link back to the
reference.</p>

<p>One potential solution to both problems is the following: wrap some
<code class="highlighter-rouge">&lt;sup&gt;&lt;/sup&gt;</code> around the reference text to superscript it, and also use this
element to declare an <code class="highlighter-rouge">id</code> for the reference. Then you can link from the
footnote to the reference using the reference <code class="highlighter-rouge">id</code>, together with a useful
symbol like ↑ as the link text (<code class="highlighter-rouge">&amp;uarr;</code> in HTML; stands for <strong>u</strong>p
<strong>arr</strong>ow, of course).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Blah blah blah blah.<span class="nt">&lt;sup</span> <span class="na">id=</span><span class="s">"ref"</span><span class="nt">&gt;</span>[1](#fn)<span class="nt">&lt;/sup&gt;</span> More blah...

---
1.  <span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"fn"</span> <span class="na">href=</span><span class="s">"#ref"</span><span class="nt">&gt;</span><span class="ni">&amp;uarr;</span><span class="nt">&lt;/a&gt;</span> Even more blah...
</code></pre>
</div>

<p>This actually ain’t <em>that</em> bad.<sup id="ref:sup"><a href="#fn:sup">3</a></sup> However,
what if we want to customize how the reference number looks? What if we don’t
like underline, or we want a special color or font or size? Unfortunately, any
style properties of a <code class="highlighter-rouge">sup</code> element get overridden if they are also style
properties of the <code class="highlighter-rouge">a</code> element embedded inside the <code class="highlighter-rouge">&lt;sup&gt;&lt;/sup&gt;</code> tags: recall
that</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;sup</span> <span class="err">...</span><span class="nt">&gt;</span>[text](url)<span class="nt">&lt;/sup&gt;</span>
</code></pre>
</div>

<p>gets expanded to</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;sup</span> <span class="err">...</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">"url"</span><span class="nt">&gt;</span>text<span class="nt">&lt;/a&gt;&lt;/sup&gt;</span>
</code></pre>
</div>

<p>In Octopress, that means that <code class="highlighter-rouge">sup {text-decoration: none;}</code>, <code class="highlighter-rouge">sup {font-size:
small;}</code>, etc. have no effect on superscript reference links because <code class="highlighter-rouge">a</code>
already has its own <code class="highlighter-rouge">text-decoration</code> and <code class="highlighter-rouge">font-size</code> values.</p>

<p>The solution I’ve come up with to all these problems is to define two new
classes of anchors (<code class="highlighter-rouge">a</code> elements): one for references and one for footnotes. I
like my reference numbers to be small and superscript, with no underline, and I
like my up arrow to be normal size and superscript, with no underline.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">a</span><span class="nc">.ref</span> <span class="p">{</span>
  <span class="nl">vertical-align</span><span class="p">:</span> <span class="nb">super</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="n">small</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="err">@include</span> <span class="err">link-colors($link-color,</span>
                       <span class="err">$</span><span class="py">hover</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-hover</span><span class="p">,</span>
                       <span class="err">$</span><span class="n">focus</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-hover</span><span class="p">,</span>
                       <span class="err">$</span><span class="n">visited</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-visited</span><span class="p">,</span>
                       <span class="err">$</span><span class="n">active</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-active</span><span class="p">);</span>
<span class="p">}</span>

<span class="nt">a</span><span class="nc">.fn</span> <span class="p">{</span>
  <span class="nl">vertical-align</span><span class="p">:</span> <span class="nb">super</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="err">@include</span> <span class="err">link-colors($link-color,</span>
                       <span class="err">$</span><span class="py">hover</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-hover</span><span class="p">,</span>
                       <span class="err">$</span><span class="n">focus</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-hover</span><span class="p">,</span>
                       <span class="err">$</span><span class="n">visited</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-visited</span><span class="p">,</span>
                       <span class="err">$</span><span class="n">active</span><span class="p">:</span> <span class="err">$</span><span class="n">link-color-active</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The <code class="highlighter-rouge">@include ...</code> stuff adds all the color variables from
<code class="highlighter-rouge">/sass/custom/_colors.scss</code>. Without that, the links would be black.</p>

<p>These two classes now mean I do references and footnotes as follows.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Blah blah.<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"ref"</span> <span class="na">id=</span><span class="s">"ref:blah"</span> <span class="na">href=</span><span class="s">"#fn:blah"</span><span class="nt">&gt;</span>[1]<span class="nt">&lt;/a&gt;</span> More blah

Aoeu aoeu aoeu.<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"ref"</span> <span class="na">id=</span><span class="s">"ref:aoeu"</span> <span class="na">href=</span><span class="s">"#fn:aoeu"</span><span class="nt">&gt;</span>[2]<span class="nt">&lt;/a&gt;</span> More aoeu

---
1.  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"fn"</span> <span class="na">id=</span><span class="s">"fn:blah"</span> <span class="na">href=</span><span class="s">"#ref:blah"</span><span class="nt">&gt;</span><span class="ni">&amp;uarr;</span><span class="nt">&lt;/a&gt;</span> Even more blah...

2.  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"fn"</span> <span class="na">id=</span><span class="s">"fn:aoeu"</span> <span class="na">href=</span><span class="s">"#ref:aoeu"</span><span class="nt">&gt;</span><span class="ni">&amp;uarr;</span><span class="nt">&lt;/a&gt;</span> Even more aoeu...
</code></pre>
</div>

<p>In other words, each <em>reference</em> consists of a number, like 1, surrounded by
<code class="highlighter-rouge">a</code> tags of the <code class="highlighter-rouge">ref</code> class, with some mnemonic ref <code class="highlighter-rouge">id</code>, pointing to the
corresponding fn anchor/<code class="highlighter-rouge">id</code>. The corresponding <em>footnote</em> consists of a
↑, surrounded by <code class="highlighter-rouge">a</code> tags of the <code class="highlighter-rouge">fn</code> class, with some mnemonic fn <code class="highlighter-rouge">id</code>,
pointing back to the corresponding ref anchor/<code class="highlighter-rouge">id</code>.</p>

<p>I think this works pretty well. Although it clutters my markdown with a bit of
HTML, I think the flexibility is worth it. This way, I can easily change how my
reference numbers look, or how my footnote arrow looks, or both, and it’ll
trickle down to all my posts that use these classes.</p>

<p>There may be a better way of handling footnotes, but I haven’t seen it or
thought of it yet.</p>

<hr />
<ol>
  <li>
    <p><a class="fn" id="fn:kd" href="#ref:kd">↑</a> Octopress actually uses
<a href="https://github.com/rtomayko/rdiscount">rdiscount</a> by default. Read <a href="/blog/2012/11/28/latex-math-in-octopress/">here</a> to find out why I switched to
kramdown.</p>
  </li>
  <li>
    <p><a class="fn" id="fn:ugly"></a> The actual footnote doesn’t look too bad,
but keep reading.</p>
  </li>
  <li>
    <p><a class="fn" id="fn:sup" href="#ref:sup">↑</a> At least it works.
Note that in Octopress superscripts are not very superscript by default.
You must add <code class="highlighter-rouge">sup {vertical-align: super;}</code> to your
<code class="highlighter-rouge">/sass/custom/_styles.scss</code>.</p>
  </li>
</ol>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-wrapper">
      &copy; Brian Buccola. Powered by <a
         href="https://jekyllrb.com/">Jekyll</a> and <a
         href="https://github.com/">GitHub</a>.
    </div>
  </div>
</footer>


  </body>

</html>
