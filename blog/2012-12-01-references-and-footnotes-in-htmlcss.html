<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Brian Buccola">
  <title>Brian Buccola - References and Footnotes in HTML/CSS</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../style.css">
  <!-- Warning: Do not edit this file; it will be overwritten during blog rebuild. -->
  <meta name="description" content="Brian Buccola's personal blog">
  <meta name="keywords" content="Brian Buccola,linguistics,McGill University">
  <link rel="icon" href="/favicon.png">
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Mono:400,700,400italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono" rel="stylesheet" type="text/css">
  
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38439922-1']);
      _gaq.push(['_trackPageview']);
  
      (function() {
       var ga = document.createElement('script');
       ga.type = 'text/javascript';
       ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0];
       s.parentNode.insertBefore(ga, s);
       })();
  </script>
</head>
<body>
<!-- Warning: Do not edit this file; it will be overwritten during blog rebuild. -->
<h1 class="blog_title">Brian Buccola</h1>
<h4 class="blog_subtitle">logic, language, linux</h4>

<a class="return_to_index" href="../index.html">Back to index</a>
<h1 class="post_title">References and Footnotes in HTML/CSS</h1>
<p class="date">December 01, 2012</p>

<!-- begin metadata
title: References and Footnotes in HTML/CSS
date: 2012-12-01 15:08
categories:
- howto
- html
- css
- octopress
end metadata -->

<p><strong><em>Update:</em></strong> <em>Since I wrote this post, I discovered that markdown conversion programs like Pandoc and kramdown can converted extensions of markdown that include footnotes. For example, with Pandoc it suffices to do:</em></p>
<pre><code>Blah blah blah.[^fn] Lorem ipsum...

[^fn]: Here&#39;s a footnote!</code></pre>
<p><em>But I will leave this post here since it may be a useful reference for people writing in pure html rather than markdown.</em></p>
<p>I’ve been toying with how best to incorporate inline references and end–of–post footnotes into my blog posts, and here’s what I’ve come up with. I’ll start with my first, very simplistic attempt, then explain my slightly more complicated but also more flexible (I think) solution.</p>
<p>This blog is powered by <a href="http://octopress.org/">Octopress</a>, which allows me to write blog posts in <a href="http://daringfireball.net/projects/markdown/">markdown</a> syntax, which is then parsed and converted into HTML by <a href="http://kramdown.rubyforge.org/">kramdown</a>.<a class="ref" id="ref:kd" href="#fn:kd">[1]</a> Markdown has a nice, easy, and highly legible way of creating simple links. Just type one of these.</p>
<pre class="sourceCode html"><code class="sourceCode html">Click [here](url) to see something awesome!

Click [here][blah] to see something awesome!
[blah]: url</code></pre>
<p>Both are expanded into the following.</p>
<pre class="sourceCode html"><code class="sourceCode html">Click <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;url&quot;</span><span class="kw">&gt;</span>here<span class="kw">&lt;/a&gt;</span> to see something awesome!</code></pre>
<p>Now, whether you write in markdown or in HTML, footnotes would seem really easy to do, and in some sense, they are. Simply create a footnote at the bottom of the page that has some sort of element with an <code>id</code>, preferably mnemonic, e.g., <code>&lt;a id=&quot;fn&quot;&gt;...</code>, and then refer to that <code>id</code> in your text in the normal way, by adding a #: either as <code>&lt;a href=&quot;#fn&quot;&gt;1&lt;/a&gt;</code> in HTML, or as <code>[1](#fn)</code> in markdown.</p>
<pre class="sourceCode html"><code class="sourceCode html">Blah blah blah blah.[1](#fn) More blah...

---
1.  <span class="kw">&lt;a</span><span class="ot"> id=</span><span class="st">&quot;fn&quot;</span><span class="kw">&gt;&lt;/a&gt;</span> Even more blah...</code></pre>
<p>But there are some problems with this method. First, it’s ugly.<a href="#fn:ugly">2</a> See how ugly that big underlined number looks? Second, and more importantly, as I’ve written it, there’s no link from the footnote back up to the reference, so once you’re done reading the footnote, you have to go find where you were before. Uncool. There’s nothing worse than a footnote with no link back to the reference.</p>
<p>One potential solution to both problems is the following: wrap some <code>&lt;sup&gt;&lt;/sup&gt;</code> around the reference text to superscript it, and also use this element to declare an <code>id</code> for the reference. Then you can link from the footnote to the reference using the reference <code>id</code>, together with a useful symbol like ↑ as the link text (<code>&amp;uarr;</code> in HTML; stands for <strong>u</strong>p <strong>arr</strong>ow, of course).</p>
<pre class="sourceCode html"><code class="sourceCode html">Blah blah blah blah.<span class="kw">&lt;sup</span><span class="ot"> id=</span><span class="st">&quot;ref&quot;</span><span class="kw">&gt;</span>[1](#fn)<span class="kw">&lt;/sup&gt;</span> More blah...

---
1.  <span class="kw">&lt;a</span><span class="ot"> id=</span><span class="st">&quot;fn&quot;</span><span class="ot"> href=</span><span class="st">&quot;#ref&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;uarr;</span><span class="kw">&lt;/a&gt;</span> Even more blah...</code></pre>
<p>This actually ain’t <em>that</em> bad.<sup id="ref:sup"><a href="#fn:sup">3</a></sup> However, what if we want to customize how the reference number looks? What if we don’t like underline, or we want a special color or font or size? Unfortunately, any style properties of a <code>sup</code> element get overridden if they are also style properties of the <code>a</code> element embedded inside the <code>&lt;sup&gt;&lt;/sup&gt;</code> tags: recall that</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;sup</span> <span class="er">...</span><span class="kw">&gt;</span>[text](url)<span class="kw">&lt;/sup&gt;</span></code></pre>
<p>gets expanded to</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;sup</span> <span class="er">...</span><span class="kw">&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;url&quot;</span><span class="kw">&gt;</span>text<span class="kw">&lt;/a&gt;&lt;/sup&gt;</span></code></pre>
<p>In Octopress, that means that <code>sup {text-decoration: none;}</code>, <code>sup {font-size: small;}</code>, etc. have no effect on superscript reference links because <code>a</code> already has its own <code>text-decoration</code> and <code>font-size</code> values.</p>
<p>The solution I’ve come up with to all these problems is to define two new classes of anchors (<code>a</code> elements): one for references and one for footnotes. I like my reference numbers to be small and superscript, with no underline, and I like my up arrow to be normal size and superscript, with no underline.</p>
<pre class="sourceCode css"><code class="sourceCode css">a<span class="fl">.ref</span> <span class="kw">{</span>
  <span class="kw">vertical-align:</span> <span class="dt">super</span><span class="kw">;</span>
  <span class="kw">font-size:</span> <span class="dt">small</span><span class="kw">;</span>
  <span class="kw">text-decoration:</span> <span class="dt">none</span><span class="kw">;</span>
  <span class="er">@include</span> <span class="er">link-colors($link-color,</span>
                       <span class="er">$</span><span class="kw">hover:</span> $link-color-hover,
                       $focus: $link-color-hover,
                       $visited: $link-color-visited,
                       $active: $link-color-active)<span class="kw">;</span>
<span class="kw">}</span>

a<span class="fl">.fn</span> <span class="kw">{</span>
  <span class="kw">vertical-align:</span> <span class="dt">super</span><span class="kw">;</span>
  <span class="kw">text-decoration:</span> <span class="dt">none</span><span class="kw">;</span>
  <span class="er">@include</span> <span class="er">link-colors($link-color,</span>
                       <span class="er">$</span><span class="kw">hover:</span> $link-color-hover,
                       $focus: $link-color-hover,
                       $visited: $link-color-visited,
                       $active: $link-color-active)<span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>The <code>@include ...</code> stuff adds all the color variables from <code>/sass/custom/_colors.scss</code>. Without that, the links would be black.</p>
<p>These two classes now mean I do references and footnotes as follows.</p>
<pre class="sourceCode html"><code class="sourceCode html">Blah blah.<span class="kw">&lt;a</span><span class="ot"> class=</span><span class="st">&quot;ref&quot;</span><span class="ot"> id=</span><span class="st">&quot;ref:blah&quot;</span><span class="ot"> href=</span><span class="st">&quot;#fn:blah&quot;</span><span class="kw">&gt;</span>[1]<span class="kw">&lt;/a&gt;</span> More blah

Aoeu aoeu aoeu.<span class="kw">&lt;a</span><span class="ot"> class=</span><span class="st">&quot;ref&quot;</span><span class="ot"> id=</span><span class="st">&quot;ref:aoeu&quot;</span><span class="ot"> href=</span><span class="st">&quot;#fn:aoeu&quot;</span><span class="kw">&gt;</span>[2]<span class="kw">&lt;/a&gt;</span> More aoeu

---
1.  <span class="kw">&lt;a</span><span class="ot"> class=</span><span class="st">&quot;fn&quot;</span><span class="ot"> id=</span><span class="st">&quot;fn:blah&quot;</span><span class="ot"> href=</span><span class="st">&quot;#ref:blah&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;uarr;</span><span class="kw">&lt;/a&gt;</span> Even more blah...

2.  <span class="kw">&lt;a</span><span class="ot"> class=</span><span class="st">&quot;fn&quot;</span><span class="ot"> id=</span><span class="st">&quot;fn:aoeu&quot;</span><span class="ot"> href=</span><span class="st">&quot;#ref:aoeu&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;uarr;</span><span class="kw">&lt;/a&gt;</span> Even more aoeu...</code></pre>
<p>In other words, each <em>reference</em> consists of a number, like 1, surrounded by <code>a</code> tags of the <code>ref</code> class, with some mnemonic ref <code>id</code>, pointing to the corresponding fn anchor/<code>id</code>. The corresponding <em>footnote</em> consists of a ↑, surrounded by <code>a</code> tags of the <code>fn</code> class, with some mnemonic fn <code>id</code>, pointing back to the corresponding ref anchor/<code>id</code>.</p>
<p>I think this works pretty well. Although it clutters my markdown with a bit of HTML, I think the flexibility is worth it. This way, I can easily change how my reference numbers look, or how my footnote arrow looks, or both, and it’ll trickle down to all my posts that use these classes.</p>
<p>There may be a better way of handling footnotes, but I haven’t seen it or thought of it yet.</p>
<hr />
<ol type="1">
<li><p><a class="fn" id="fn:kd" href="#ref:kd">↑</a> Octopress actually uses <a href="https://github.com/rtomayko/rdiscount">rdiscount</a> by default. Read <a href="/blog/2012/11/28/latex-math-in-octopress/">here</a> to find out why I switched to kramdown.</p></li>
<li><p><a class="fn" id="fn:ugly"></a> The actual footnote doesn’t look too bad, but keep reading.</p></li>
<li><p><a class="fn" id="fn:sup" href="#ref:sup">↑</a> At least it works. Note that in Octopress superscripts are not very superscript by default. You must add <code>sup {vertical-align: super;}</code> to your <code>/sass/custom/_styles.scss</code>.</p></li>
</ol>
<!-- Warning: Do not edit this file; it will be overwritten during blog rebuild. -->
<hr class="footer"/>
<p class="footer">
<a rel="license"
href="http://creativecommons.org/licenses/by/3.0/">
<img alt="Creative Commons License" style="border-width:0"
src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br>
Copyright &copy; 2012-2013 &ndash; Brian Buccola<br>
Powered by Pandoc and Bash.
Source code available <a href="https://github.com/brianbuccola/brianbuccola.github.io">here</a>.
</p>
</body>
</html>
