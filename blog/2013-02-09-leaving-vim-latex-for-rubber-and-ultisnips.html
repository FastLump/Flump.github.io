<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Brian Buccola">
  <title>Brian Buccola - Leaving VIM-LaTeX for Rubber and Ultisnips</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="../style.css">
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  <!-- Warning: Do not edit this file; it will be overwritten during blog rebuild. -->
  <meta name="description" content="Brian Buccola's personal blog">
  <meta name="keywords" content="Brian Buccola,linguistics,McGill University">
  <link rel="icon" href="/favicon.png">
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Mono:400,700,400italic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=Droid+Sans+Mono" rel="stylesheet" type="text/css">
  
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38439922-1']);
      _gaq.push(['_trackPageview']);
  
      (function() {
       var ga = document.createElement('script');
       ga.type = 'text/javascript';
       ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0];
       s.parentNode.insertBefore(ga, s);
       })();
  </script>
</head>
<body>
<!-- Warning: Do not edit this file; it will be overwritten during blog rebuild. -->
<h1 class="blog_title">Brian Buccola</h1>
<h4 class="blog_subtitle">logic, language, linux</h4>

<a class="return_to_index" href="../index.html">Back to index</a>
<h1 class="post_title">Leaving VIM-LaTeX for Rubber and Ultisnips</h1>
<p class="date">February 09, 2013</p>

<!-- begin metadata
title: Leaving VIM-LaTeX for Rubber and Ultisnips
date: 2013-02-09 21:08
categories:
- latex
- vim
- linux
end metadata -->

<p>Several years ago when I started using <a href="http://www.vim.org/">vim</a>, I needed a way to integrate <span class="math">\(\LaTeX{}\)</span> and stumbled on the hugely popular <a href="http://vim-latex.sourceforge.net/">vim-latex</a> plugin. It comes with a ton of bells and whistles, like automatic text replacement, shortcuts for inserting environments, and macros for compiling <code>tex</code> code and for opening the resulting <code>pdf</code> in your favorite viewer. Also, for users of graphical vim, vim-latex adds a ton of new menus that list various environments, commands, packages and their options, etc.</p>
<p>Over the years, however, I’ve realized that I don’t actually use any of the features other than the two macros above, plus a few basic text replacements and environment shortcuts. In fact, some of the features can be quite annoying and (as far as I’ve been able to learn) are not easily disabled. For example, if I want to write an expression in single quotes that starts with ‘a’, such as ‘arm’, the moment I type <code>`a</code>, the replacement mechanim kicks in and replaces it with <code>\alpha</code>. And similar for a bunch of other character combinations.</p>
<p>So the other day, I finally decided to get rid of vim-latex all together and write my own macros for compiling and viewing. Initially, I was just going to use <code>pdflatex</code>, but then I remembered about the awesome <a href="https://launchpad.net/rubber/">rubber</a>, a program for handling “all tasks related to the compilation of LaTeX documents”. That especially means compiling multiple times to fix labels as well as doing the whole</p>
<pre><code>$ pdflatex
$ bibtex
$ pdflatex
$ pdflatex</code></pre>
<p>runaround. As expected, <code>rubber</code> also comes with a slew of options and can compile to any of the usual formats.</p>
<p>Here are the two macros I wrote:</p>
<pre class="vim"><code>&quot; LaTeX (rubber) macro
nnoremap &lt;leader&gt;t :w&lt;CR&gt;:!rubber --pdf --warn all %&lt;CR&gt;

&quot; View PDF macro; &#39;%:r&#39; is current file&#39;s root (base) name.
nnoremap &lt;leader&gt;v :!mupdf %:r.pdf &amp;&lt;CR&gt;&lt;CR&gt;</code></pre>
<p>The first macro saves the current file and then runs <code>rubber --pdf --warn all</code> on it, which compiles to <code>pdf</code> using <code>pdflatex</code> and shows all warnings and errors.</p>
<p>The second macro opens the current <code>tex</code> file’s <code>pdf</code> file in mupdf. The sequence <code>%:r</code> returns the root of the current filename, i.e., with the last extension removed (same as GNU/Linux <code>basename</code>).</p>
<p>And there are other ways of creating sweet vim/latex harmony without vim-latex. For example, for text replacement, I’ve started experimenting with <a href="https://github.com/SirVer/ultisnips">ultisnips</a> (influenced by, but by now better than, <a href="https://github.com/msanders/snipmate.vim">snipmate</a>). It ships with a few handy LaTeX snippets, and it’s super easy to write new ones (or snippets for any filetype).</p>
<p>I’ve also started using <a href="https://github.com/tpope/vim-surround">surround</a>, which vastly simplifies the inserting, changing, and deleting of “surroundings”, e.g., <code>)</code>, <code>}</code>, <code>&quot;</code>, etc.</p>
<p>Hopefully in the near future I’ll write up a more detailed post about my new vim + latex (sans vim-latex) workflow.</p>
<!-- Warning: Do not edit this file; it will be overwritten during blog rebuild. -->
<hr class="footer"/>
<p class="footer">
<a rel="license" target="_blank"
href="http://creativecommons.org/licenses/by/3.0/">
<img alt="Creative Commons License" style="border-width:0"
src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br>
Brian Buccola, 2012-2013<br>
Powered by
        <a target="_blank" href="http://johnmacfarlane.net/pandoc/">Pandoc</a>,
        <a target="_blank" href="http://www.gnu.org/software/bash/">Bash</a>, and
        <a target="_blank" href="https://github.com/">GitHub</a>.
Source code available
        <a target="_blank" href="https://github.com/brianbuccola/brianbuccola.github.io">here</a>.
</p>
</body>
</html>
